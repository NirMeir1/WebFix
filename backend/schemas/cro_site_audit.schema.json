{
  "type": "object",
  "required": [
    "schema_version",
    "site",
    "generated_at",
    "overall_observations",
    "pages",
    "report_type"
  ],
  "properties": {
    "site": {
      "type": "string"
    },
    "generated_at": {
      "type": "string"
    },
    "schema_version": {
      "type": "string"
    },
    "overall_observations": {
      "type": "string"
    },
    "report_type": {
      "type": "string",
      "enum": ["basic", "deep"]
    },
    "pages": {
      "type": "object",
      "properties": {
        "cart": {
          "$ref": "#/definitions/pageReport"
        },
        "home": {
          "$ref": "#/definitions/pageReport"
        },
        "footer": {
          "$ref": "#/definitions/pageReport"
        },
        "product": {
          "$ref": "#/definitions/pageReport"
        },
        "category": {
          "$ref": "#/definitions/pageReport"
        },
        "checkout": {
          "$ref": "#/definitions/pageReport"
        },
        "general": {
          "$ref": "#/definitions/pageReport"
        },
        "navigation": {
          "$ref": "#/definitions/pageReport"
        },
        "search": {
          "$ref": "#/definitions/pageReport"
        },
        "cart_widget": {
          "$ref": "#/definitions/pageReport"
        }
      },
      "additionalProperties": false
    }
  },
  "definitions": {
    "criterion": {
      "type": "object",
      "required": [
        "criterion",
        "finding",
        "score",
        "why_it_matters",
        "why_this_score",
        "how_to_improve"
      ],
      "properties": {
        "score": {
          "type": "integer"
        },
        "finding": {
          "type": "string"
        },
        "why_it_matters": {
          "type": "string"
        },
        "why_this_score": {
          "type": "string"
        },
        "how_to_improve": {
          "type": "string"
        },
        "criterion": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "pageReport": {
      "type": "object",
      "required": [
        "desktop",
        "mobile"
      ],
      "properties": {
        "mobile": {
          "$ref": "#/definitions/deviceReport"
        },
        "desktop": {
          "$ref": "#/definitions/deviceReport"
        }
      },
      "additionalProperties": false
    },
    "deviceReport": {
      "type": "object",
      "required": [
        "summary",
        "quick_wins",
        "criteria",
        "average_score",
        "label",
        "recommendations"
      ],
      "properties": {
        "summary": {
          "type": "string"
        },
        "quick_wins": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "label": {
          "type": "string",
          "enum": [
            "Excellent",
            "Good",
            "Can Be Improved",
            "Bad"
          ]
        },
        "criteria": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/criterion"
          }
        },
        "average_score": {
          "type": "number"
        },
        "recommendations": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}